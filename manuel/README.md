# Readme

## Content of the folder

### Scripts

Note that all scripts in this folder that are written in Python have a file name starting with *p_*.

The folder contains the following scripts:

- (1) p_download_era5.py
- (2) p_create_region-masks.py
- (3) p_create_panel-climate.py
- (4) p_create_panel-JH-all.py

### Data

The processed gridded weather data can be downloaded here:

[https://filedn.com/lTfB1HPwylxyFooURQnyi7k/era5_gridded-weather-data.nc]

The gridded population data can be downloaded here:

[https://filedn.com/lTfB1HPwylxyFooURQnyi7k/gpw_v4_global_agg15min_2020_ERA.nc]

## Use of the scripts

### Script (1)
- This script downloads and processes ERA5 reanalyis data from the Copernicus Data Store (CDS). To run this script, an account with the CDS is necessary. Furthermore, the script depends on a CDS API key, which can be set up as described here: [https://cds.climate.copernicus.eu/api-how-to].
- The script downloads monthly files of various weather variables at three hourly intervals. The time period is 2020-01-01 until five days before the current date. The script automatically downloads the files necessary to extend the time period up to the date at which the script is run.
- The monthly files with three-hourly frequency are then used to compute additional weather variables (related to the humidity of air).
- The final product of the script is a netcdf file containing daily means of the whole time period of all weather variables.

### Script (2)
- This script uses a global gridded data set on population from GPW v4 and shape files of different regions to create masks for these regions that can be applied to a gridded climate data set. For each region, a weighted and an unweighted mask is created. The masks are saved as python pickle objects.

### Script (3)
- This script applies the region masks that have been generated by script (2) to the reanalysis data downloaded by script (1). The final product is a csv file with columns TIME, UNIT_ID, and all weather statistics that have been computed for each region and time step.

### Script (4)
- This script generates a csv file in panel structure from the files with daily case numbers in the John Hopkins github respository.
